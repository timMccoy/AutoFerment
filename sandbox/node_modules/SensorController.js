//Sensor Controller Object
var gpio = require("pi-gpio");
var pin = 7;

var tempReading = 72;

var state_ = {
	FRIDGE_ON : 6,
	FRIDGE_OFF : 7
};

function SensorController(id, address, simulation) 
{
	this.sensorId = id;
	this.readAddress = address;
	this.SIMULATION = simulation;
}

SensorController.prototype.tester = function() 
{
	//console.log("SensorController Test!!");
}

SensorController.prototype.readTemp = function( state ) 
{
	if(this.SIMULATION)
	{
		if(state == state_.FRIDGE_ON)
			tempReading--;
		else
			tempReading++;
		
		return tempReading;
	}
	else
	{
		gpio.read(7, function(err, sensorValue)
		{
	        console.log('The value is ' + sensorValue);
			tempReading =  sensorValue;
	    });
		return tempReading;
	}
};

module.exports = SensorController;